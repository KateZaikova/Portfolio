# A/B-тестирование
## Цель исследования

Провести оценку результатов A/B-теста:

* Оценить корректность проведения теста
* Проанализировать результаты теста

## Исходные данные:

В распоряжении есть датасет с действиями пользователей, техническое задание и несколько вспомогательных датасетов.

## Ход исследования:

1. Выгрузка данных и их изучение
2. Исследовательский анализ данных:
* Оценка корректности проведения теста
* Распеределение количества событий на пользователя в выборках
* Распределение числа событий в выборках по дням
* Изменение конверсии в воронке в выборках на разных этапах
3. Оценка результатов A/B-тестирования
* Анализ А/В-тестирования
* Проверка статистической разницы долей z-критерием
4. Общий вывод

## Общий вывод:

I. Перед анализом, мы подготовили данные, а именно:
  * в таблице marketing тип данных в столбцах start_dt и finish_dt заменили на datetime
  * в таблице new_users тип данных в столбце first_date заменили на datetime
  * в таблице events тип данных в столбце event_dt заменили на datetime


II. Исследовательский анализ данных:

1. Тест проведен не корректно.

   Причины, почему тест проведен не корректно:

* в данных выявленно одновременно два теста
* тест завершился раньше срока. У группы А - 29 декабря, у группы В - 30 декабря. По ТЗ он должен завершится 04.01.2021. Не полные данные могут повлиять на результаты теста.
* Из региона EU ~13.73% новых пользователей. Не соответствие тех. заданию.
* Во время теста происходит два маркетинговых события "Рождественская и новогодняя акция" и "Новогодняя подарочная лотерея СНГ"
* 1602 пользователя участвуют одновременно в двух тестах.
* Пользователи распределены неравномерно по тестовым группам, в интересующем нас тесте разница между группами около 5%, это может исказить результаты теста.


2. Были выявлены следующие особенности:

* Количество событий на пользователя распределены в выборках не одинаково
* Число событий в выборках распределено по дням не равномерно
* Посмотрев на конверсию в воронке в выборках на разных этапах видно, что ожидаемго эффекта не произошло: пользователи не показали улучшение каждой метрики не менее, чем на 10%.
* Больше всего пользователей теряются между регистрацией и просмотром карточек.
* Количество пользователей, совершивших покупку, больше, чем количествово пользователей, попавших в корзину - вероятно, это связано с тем, что часть пользователей совершили покупку, минуя корзину.

III. Оценка результатов А/В-тестирования:
1. Анализ А/В теста:
* Выручка у группы В равномерно увеличивается в течение всего теста. Хороший знак. У группы А график выручки растет более интенсивно, но это лишь подтверждает наши исследования выше, что в группе А больше количество пользователей, чем в группе В.
* Средний чек к концу теста начал немного стабилизироваться у обоих групп и примерно сравниваться. Возможно, в группу B 11-12 декабря попали крупные заказы (резкий всплеск на графике).
* В нескольких точках на графике относительного прироста среднего чека гр.В к гр.А резко «скачет». Где-то скорее всего спрятались крупные заказы и выбросы. Группа В значительно хуже группы А, но возможно, если бы распределение пользователей между группами было равномерным, то результат был бы другой.
* По графику коммулятивной конверсии по группам видно, что график не симметричный. Конверсия группы А вырвалась выше, обе конверсии выровнялись к концу теста и зафиксировались.
* В относительном приросте конверсии В к А в начале теста были колебания, с середины теста и до конца относительный прирост гр.В падает и врят ли уже начнет расти.
* Исходя из диаграммы распределения стоимости заказов выбрали за верхнюю границу 100 у.е и отсекли аномальных пользователей по ней.
* Диаграмма заказов на одного пользователя относительно равномерная, поэтому мы оставим все как есть.

2. Проверка статистической разницы долей z-критерием:

* на этапе: alogin/browse_page, p-значение: 0.00 - отвергаем нулевую гипотезу: между долями есть значимая разница
* на этапе: alogin/product_cart, p-значение: 0.13 - не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными
* на этапе: alogin/purchase, p-значение: 0.02 - не получилось отвергнуть нулевую гипотезу, нет оснований считать доли разными


VI. Рекомендации:

Так как говорить об успешности теста нельзя, в виду обнаружения ряда ошибок при его проведении. Если довериться его результатам, возможно в будующем получить неприятные экономические последствия. Рекомендую скорректировать настройки A/B теста и запустить его повторно.
